<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>can_eth_gw Gateway Module: Create &amp; Deleting</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="CAN-eth-GW-mini.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">can_eth_gw Gateway Module
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">A bidirectional CAN to Ethernet Gateway (Kernel Module)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__alloc.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Create &amp; Deleting</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="memitem:ga9b526fdcd79cc3c436cf5c0e5019a9eb"><td class="memItemLeft" align="right" valign="top">static int __init&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__alloc.html#ga9b526fdcd79cc3c436cf5c0e5019a9eb">ce_gw_init_module</a> (void)</td></tr>
<tr class="memdesc:ga9b526fdcd79cc3c436cf5c0e5019a9eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will be automatic called at module init.  <a href="#ga9b526fdcd79cc3c436cf5c0e5019a9eb">More...</a><br/></td></tr>
<tr class="separator:ga9b526fdcd79cc3c436cf5c0e5019a9eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga65d3994442c38318dddb547f47e5bcde"><td class="memItemLeft" align="right" valign="top">static void __exit&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__alloc.html#ga65d3994442c38318dddb547f47e5bcde">ce_gw_cleanup</a> (void)</td></tr>
<tr class="memdesc:ga65d3994442c38318dddb547f47e5bcde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will be automatically called on module remove.  <a href="#ga65d3994442c38318dddb547f47e5bcde">More...</a><br/></td></tr>
<tr class="separator:ga65d3994442c38318dddb547f47e5bcde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa01ba68dc0bec3059930d2d5994612ca"><td class="memItemLeft" align="right" valign="top">struct can_frame *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__alloc.html#gaa01ba68dc0bec3059930d2d5994612ca">ce_gw_alloc_can_frame</a> (void)</td></tr>
<tr class="memdesc:gaa01ba68dc0bec3059930d2d5994612ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">allocates memory for the can frame  <a href="#gaa01ba68dc0bec3059930d2d5994612ca">More...</a><br/></td></tr>
<tr class="separator:gaa01ba68dc0bec3059930d2d5994612ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gace556f285358490c0cdbb3d553ff0d68"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__alloc.html#gace556f285358490c0cdbb3d553ff0d68">ce_gw_free_can_frame</a> (struct can_frame *memory)</td></tr>
<tr class="memdesc:gace556f285358490c0cdbb3d553ff0d68"><td class="mdescLeft">&#160;</td><td class="mdescRight">frees memory allocated for can_frame  <a href="#gace556f285358490c0cdbb3d553ff0d68">More...</a><br/></td></tr>
<tr class="separator:gace556f285358490c0cdbb3d553ff0d68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7623cd8e8b0fc26f156ebfb5614fadfd"><td class="memItemLeft" align="right" valign="top">struct canfd_frame *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__alloc.html#ga7623cd8e8b0fc26f156ebfb5614fadfd">ce_gw_alloc_canfd_frame</a> (void)</td></tr>
<tr class="memdesc:ga7623cd8e8b0fc26f156ebfb5614fadfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">allocates memory for a canfd frame  <a href="#ga7623cd8e8b0fc26f156ebfb5614fadfd">More...</a><br/></td></tr>
<tr class="separator:ga7623cd8e8b0fc26f156ebfb5614fadfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga40f05385e7fb22f3ac41df0a175bfd83"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__alloc.html#ga40f05385e7fb22f3ac41df0a175bfd83">ce_gw_free_canfd_frame</a> (struct canfd_frame *memory)</td></tr>
<tr class="memdesc:ga40f05385e7fb22f3ac41df0a175bfd83"><td class="mdescLeft">&#160;</td><td class="mdescRight">frees memory allocated for can_frame  <a href="#ga40f05385e7fb22f3ac41df0a175bfd83">More...</a><br/></td></tr>
<tr class="separator:ga40f05385e7fb22f3ac41df0a175bfd83"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaa01ba68dc0bec3059930d2d5994612ca"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct can_frame * ce_gw_alloc_can_frame </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>allocates memory for the can frame </p>
<dl class="section return"><dt>Returns</dt><dd>pointer to the memory allocated</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd>not tested yet </dd></dl>

<p>Definition at line <a class="el" href="ce__gw__main_8c_source.html#l00161">161</a> of file <a class="el" href="ce__gw__main_8c_source.html">ce_gw_main.c</a>.</p>

<p>Referenced by <a class="el" href="ce__gw__main_8c_source.html#l00625">ce_gw_eth_to_can()</a>, and <a class="el" href="ce__gw__main_8c_source.html#l00186">ce_gw_get_header_can()</a>.</p>
<div class="fragment"><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                                              {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keyword">struct </span>can_frame *memory;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    memory = kmalloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> can_frame),GFP_KERNEL);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">return</span> memory;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__alloc_gaa01ba68dc0bec3059930d2d5994612ca_icgraph.png" border="0" usemap="#group__alloc_gaa01ba68dc0bec3059930d2d5994612ca_icgraph" alt=""/></div>
<map name="group__alloc_gaa01ba68dc0bec3059930d2d5994612ca_icgraph" id="group__alloc_gaa01ba68dc0bec3059930d2d5994612ca_icgraph">
<area shape="rect" id="node3" href="group__trans.html#ga69c7de1a4181d84f8d46d401d67a6f7b" title="converst sk_buffer including an ethernet frame to sk_buffer including a can_frame" alt="" coords="231,5,361,35"/><area shape="rect" id="node5" href="group__get.html#gae23d143501d4247947e8e89e94e44415" title="builds a can header in SFF (standart frame format) or EFF (extended frame formate) with the given inf..." alt="" coords="217,59,375,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga7623cd8e8b0fc26f156ebfb5614fadfd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct canfd_frame * ce_gw_alloc_canfd_frame </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>allocates memory for a canfd frame </p>
<dl class="section return"><dt>Returns</dt><dd>pointer to the memory allocated</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000006">Todo:</a></b></dt><dd>not tested yet </dd></dl>

<p>Definition at line <a class="el" href="ce__gw__main_8c_source.html#l00173">173</a> of file <a class="el" href="ce__gw__main_8c_source.html">ce_gw_main.c</a>.</p>

<p>Referenced by <a class="el" href="ce__gw__main_8c_source.html#l00678">ce_gw_eth_to_canfd()</a>, and <a class="el" href="ce__gw__main_8c_source.html#l00201">ce_gw_get_header_canfd()</a>.</p>
<div class="fragment"><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                                                  {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keyword">struct </span>canfd_frame *memory;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    memory = kmalloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> canfd_frame), GFP_KERNEL);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">return</span> memory;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__alloc_ga7623cd8e8b0fc26f156ebfb5614fadfd_icgraph.png" border="0" usemap="#group__alloc_ga7623cd8e8b0fc26f156ebfb5614fadfd_icgraph" alt=""/></div>
<map name="group__alloc_ga7623cd8e8b0fc26f156ebfb5614fadfd_icgraph" id="group__alloc_ga7623cd8e8b0fc26f156ebfb5614fadfd_icgraph">
<area shape="rect" id="node3" href="group__trans.html#gaecbcb806ddf3d363971cf8abe469117a" title="converst sk buffer including an ethernet frame to sk buffer including a canfd frame" alt="" coords="241,5,383,35"/><area shape="rect" id="node5" href="ce__gw__main_8h.html#a4018eac863183a215107d442d065c768" title="ce_gw_get_header_canfd" alt="" coords="227,59,397,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga65d3994442c38318dddb547f47e5bcde"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __exit ce_gw_cleanup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Will be automatically called on module remove. </p>

<p>Definition at line <a class="el" href="ce__gw__main_8c_source.html#l01048">1048</a> of file <a class="el" href="ce__gw__main_8c_source.html">ce_gw_main.c</a>.</p>

<p>References <a class="el" href="ce__gw__dev_8c_source.html#l00513">ce_gw_dev_cleanup()</a>, <a class="el" href="ce__gw__netlink_8c_source.html#l00640">ce_gw_netlink_exit()</a>, and <a class="el" href="ce__gw__main_8c_source.html#l00982">ce_gw_remove_route()</a>.</p>
<div class="fragment"><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;{</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    printk(KERN_INFO <span class="stringliteral">&quot;ce_gw: Cleaning up the module\n&quot;</span>);</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    pr_debug(<span class="stringliteral">&quot;ce_gw: Unregister netlink server.\n&quot;</span>);</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <a class="code" href="group__net.html#gae2bca6ae3a173d5d84623b45261a083a" title="Must called once at module exit.">ce_gw_netlink_exit</a>();</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="comment">/* Unregister all routes */</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    pr_info(<span class="stringliteral">&quot;ce_gw: unregister all CAN ETH GW routes\n&quot;</span>);</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <a class="code" href="ce__gw__main_8c.html#a0b296fdda11e90cddbe65ae8b541b8dd">ce_gw_remove_route</a>(0);</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    pr_debug(<span class="stringliteral">&quot;ce_gw: Unregister virtual net devices.\n&quot;</span>);</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <a class="code" href="group__dev.html#ga9f556bd4667762bc63d53649ad6098ed" title="Deleting all objects created by ce_gw_dev_init_module() and all devices.">ce_gw_dev_cleanup</a>();</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="comment">/* Mem cleanup */</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    kmem_cache_destroy(ce_gw_job_cache);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__alloc_ga65d3994442c38318dddb547f47e5bcde_cgraph.png" border="0" usemap="#group__alloc_ga65d3994442c38318dddb547f47e5bcde_cgraph" alt=""/></div>
<map name="group__alloc_ga65d3994442c38318dddb547f47e5bcde_cgraph" id="group__alloc_ga65d3994442c38318dddb547f47e5bcde_cgraph">
<area shape="rect" id="node3" href="group__dev.html#ga9f556bd4667762bc63d53649ad6098ed" title="Deleting all objects created by ce_gw_dev_init_module() and all devices." alt="" coords="167,59,305,88"/><area shape="rect" id="node7" href="ce__gw__main_8c.html#a0b296fdda11e90cddbe65ae8b541b8dd" title="ce_gw_remove_route" alt="" coords="555,59,701,88"/><area shape="rect" id="node23" href="group__net.html#gae2bca6ae3a173d5d84623b45261a083a" title="Must called once at module exit." alt="" coords="169,163,303,192"/><area shape="rect" id="node5" href="group__dev.html#ga688a156f5994ae59ab4f1770653eb635" title="Unregister virtual ethernet device and remove from internal lists." alt="" coords="355,5,507,35"/><area shape="rect" id="node21" href="group__dev.html#ga8f0e118cdc2a09c0e4ae81b798260791" title="Free virtual ethernet device and remove from internal lists." alt="" coords="372,59,489,88"/><area shape="rect" id="node9" href="ce__gw__main_8c.html#a65fdb4f375d591e7e4a54a9ec38ebb06" title="ce_gw_unregister_can_src" alt="" coords="751,32,927,61"/><area shape="rect" id="node17" href="ce__gw__main_8c.html#a3daed74080a98c11ed9640c67490c6bb" title="ce_gw_unregister_eth_src" alt="" coords="752,85,925,115"/><area shape="rect" id="node11" href="group__proc.html#ga3bbb3494e2b31be8b585e07f362c5700" title="The gateway function for incoming CAN frames Receive CAN frame –&gt; process –&gt; send to ETH dev (skbuffe..." alt="" coords="1001,32,1113,61"/><area shape="rect" id="node13" href="group__trans.html#ga1fa2d0effaf27e3d6da160030ab0f8bd" title="for CE_GW_TYPE_NET: copy CAN&#45;Frame into ethernet payload and allocate" alt="" coords="1187,32,1333,61"/><area shape="rect" id="node15" href="group__trans.html#gae4c1866baead9c3b0592eb336d6d27c9" title="for CE_GW_TYPE_NET: copy CAN&#45;Frame into ethernet payload" alt="" coords="1383,32,1495,61"/><area shape="rect" id="node19" href="group__dev.html#gae9a5687f1eeb483ad060e7e63b54a846" title="Removes the pointer to param job from the list in ethernet net_device." alt="" coords="976,85,1139,115"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gace556f285358490c0cdbb3d553ff0d68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ce_gw_free_can_frame </td>
          <td>(</td>
          <td class="paramtype">struct can_frame *&#160;</td>
          <td class="paramname"><em>memory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>frees memory allocated for can_frame </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">memory</td><td>can frame that should be freed</td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000005">Todo:</a></b></dt><dd>not tested yet </dd></dl>

<p>Definition at line <a class="el" href="ce__gw__main_8c_source.html#l00167">167</a> of file <a class="el" href="ce__gw__main_8c_source.html">ce_gw_main.c</a>.</p>

<p>Referenced by <a class="el" href="ce__gw__main_8c_source.html#l00625">ce_gw_eth_to_can()</a>.</p>
<div class="fragment"><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;{</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    kfree (memory);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__alloc_gace556f285358490c0cdbb3d553ff0d68_icgraph.png" border="0" usemap="#group__alloc_gace556f285358490c0cdbb3d553ff0d68_icgraph" alt=""/></div>
<map name="group__alloc_gace556f285358490c0cdbb3d553ff0d68_icgraph" id="group__alloc_gace556f285358490c0cdbb3d553ff0d68_icgraph">
<area shape="rect" id="node3" href="group__trans.html#ga69c7de1a4181d84f8d46d401d67a6f7b" title="converst sk_buffer including an ethernet frame to sk_buffer including a can_frame" alt="" coords="211,5,341,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga40f05385e7fb22f3ac41df0a175bfd83"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ce_gw_free_canfd_frame </td>
          <td>(</td>
          <td class="paramtype">struct canfd_frame *&#160;</td>
          <td class="paramname"><em>memory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>frees memory allocated for can_frame </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">memory</td><td>canfd_frame that should be freed</td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000007">Todo:</a></b></dt><dd>not tested yet </dd></dl>

<p>Definition at line <a class="el" href="ce__gw__main_8c_source.html#l00180">180</a> of file <a class="el" href="ce__gw__main_8c_source.html">ce_gw_main.c</a>.</p>

<p>Referenced by <a class="el" href="ce__gw__main_8c_source.html#l00678">ce_gw_eth_to_canfd()</a>.</p>
<div class="fragment"><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;{</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    kfree (memory);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__alloc_ga40f05385e7fb22f3ac41df0a175bfd83_icgraph.png" border="0" usemap="#group__alloc_ga40f05385e7fb22f3ac41df0a175bfd83_icgraph" alt=""/></div>
<map name="group__alloc_ga40f05385e7fb22f3ac41df0a175bfd83_icgraph" id="group__alloc_ga40f05385e7fb22f3ac41df0a175bfd83_icgraph">
<area shape="rect" id="node3" href="group__trans.html#gaecbcb806ddf3d363971cf8abe469117a" title="converst sk buffer including an ethernet frame to sk buffer including a canfd frame" alt="" coords="223,5,364,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga9b526fdcd79cc3c436cf5c0e5019a9eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int __init ce_gw_init_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Will be automatic called at module init. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">&gt;0</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>
<p>Tests: remove when done!</p>
<p>END TEST</p>

<p>Definition at line <a class="el" href="ce__gw__main_8c_source.html#l01016">1016</a> of file <a class="el" href="ce__gw__main_8c_source.html">ce_gw_main.c</a>.</p>

<p>References <a class="el" href="ce__gw__dev_8c_source.html#l00503">ce_gw_dev_init_module()</a>, <a class="el" href="ce__gw__netlink_8c_source.html#l00581">ce_gw_netlink_init()</a>, and <a class="el" href="ce__gw__main_8c_source.html#l01069">list_jobs()</a>.</p>
<div class="fragment"><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;{</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="keywordtype">int</span> err = 0;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    printk(KERN_INFO <span class="stringliteral">&quot;ce_gw: Module started.\n&quot;</span>);</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    ce_gw_job_cache = kmem_cache_create(<span class="stringliteral">&quot;can_eth_gw&quot;</span>,</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                                        <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structce__gw__job.html">ce_gw_job</a>), 0, 0, NULL);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="keywordflow">if</span> (!ce_gw_job_cache)</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        <span class="keywordflow">return</span> ENOMEM;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <a class="code" href="ce__gw__main_8c.html#a3590678f1867d673fb7f45413cc96b86" title="Some helper tools for testing.">list_jobs</a>();</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    err = <a class="code" href="group__net.html#ga4faff69979214be9930357331bc42316" title="Must called once at module init.">ce_gw_netlink_init</a>();</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    err += <a class="code" href="group__dev.html#gac80bda3b07e5e8d816a71576fb219655" title="Initialise all objects, wich are needed by the other functions.">ce_gw_dev_init_module</a>();</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="keywordflow">if</span> (err != 0)</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__alloc_ga9b526fdcd79cc3c436cf5c0e5019a9eb_cgraph.png" border="0" usemap="#group__alloc_ga9b526fdcd79cc3c436cf5c0e5019a9eb_cgraph" alt=""/></div>
<map name="group__alloc_ga9b526fdcd79cc3c436cf5c0e5019a9eb_cgraph" id="group__alloc_ga9b526fdcd79cc3c436cf5c0e5019a9eb_cgraph">
<area shape="rect" id="node3" href="group__dev.html#gac80bda3b07e5e8d816a71576fb219655" title="Initialise all objects, wich are needed by the other functions." alt="" coords="188,5,348,35"/><area shape="rect" id="node5" href="group__net.html#ga4faff69979214be9930357331bc42316" title="Must called once at module init." alt="" coords="204,59,332,88"/><area shape="rect" id="node7" href="ce__gw__main_8c.html#a3590678f1867d673fb7f45413cc96b86" title="Some helper tools for testing." alt="" coords="233,112,303,141"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Jul 22 2013 11:59:52 for can_eth_gw Gateway Module by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
